
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add a help text for a CLI argument &#8212; lyrics</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo-lyric.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">lyrics</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../01-intro.html">
   Installation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Get started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../typer-cli.html">
   Typer CLI
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Tutorial
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Python types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html#intro">
   Intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html#run-the-code">
   Run the code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html#install-typer">
   Install
   <strong>
    Typer
   </strong>
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/tutorial/arguments/help.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Add a
   <code class="docutils literal notranslate">
    <span class="pre">
     help
    </span>
   </code>
   text for a
   <em>
    CLI argument
   </em>
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#combine-help-text-and-docstrings">
   Combine help text and docstrings
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#help-with-defaults">
   Help with defaults
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-default-string">
   Custom default string
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-help-name-metavar">
   Custom help name (
   <code class="docutils literal notranslate">
    <span class="pre">
     metavar
    </span>
   </code>
   )
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hide-a-cli-argument-from-the-help-text">
   Hide a
   <em>
    CLI argument
   </em>
   from the help text
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#help-text-for-cli-arguments-in-click">
     Help text for
     <em>
      CLI arguments
     </em>
     in Click
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <p>In the <em>First Steps</em> section you saw how to add help for a CLI app/command by adding it to a function’s <abbr title="a multi-line string as the first expression inside a function (not assigned to any variable) used for documentation">docstring</abbr>.</p>
<p>Here’s how that last example looked like:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/first_steps/tutorial006.py!}
</pre></div>
</div>
<p>Now that you also know how to use <code class="docutils literal notranslate"><span class="pre">typer.Argument()</span></code>, let’s use it to add documentation specific for a <em>CLI argument</em>.</p>
<div class="section" id="add-a-help-text-for-a-cli-argument">
<h1>Add a <code class="docutils literal notranslate"><span class="pre">help</span></code> text for a <em>CLI argument</em><a class="headerlink" href="#add-a-help-text-for-a-cli-argument" title="Permalink to this headline">¶</a></h1>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> parameter to add a help text for a <em>CLI argument</em>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial001.py!}
</pre></div>
</div>
<p>And it will be used in the automatic <code class="docutils literal notranslate"><span class="pre">--help</span></code> option:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">// Check the section with Arguments below 🚀</span>
<span class="go">Usage: main.py [OPTIONS] NAME</span>

<span class="go">Arguments:</span>
<span class="go">  NAME  The name of the user to greet  [required]</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="combine-help-text-and-docstrings">
<h1>Combine help text and docstrings<a class="headerlink" href="#combine-help-text-and-docstrings" title="Permalink to this headline">¶</a></h1>
<p>And of course, you can also combine that <code class="docutils literal notranslate"><span class="pre">help</span></code> with the <abbr title="a multi-line string as the first expression inside a function (not assigned to any variable) used for documentation">docstring</abbr>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial002.py!}
</pre></div>
</div>
<p>And the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option will combine all the information:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">// Notice that we have the help text from the docstring and also the Arguments 📝</span>
<span class="go">Usage: main.py [OPTIONS] NAME</span>

<span class="go">  Say hi to NAME very gently, like Dirk.</span>

<span class="go">Arguments:</span>
<span class="go">  NAME  The name of the user to greet  [required]</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="help-with-defaults">
<h1>Help with defaults<a class="headerlink" href="#help-with-defaults" title="Permalink to this headline">¶</a></h1>
<p>If you have a <em>CLI argument</em> with a default value, like <code class="docutils literal notranslate"><span class="pre">&quot;World&quot;</span></code>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial003.py!}
</pre></div>
</div>
<p>It will show that default value in the help text:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">// Notice the [default: World] 🔍</span>
<span class="go">Usage: main.py [OPTIONS] [NAME]</span>

<span class="go">  Say hi to NAME very gently, like Dirk.</span>

<span class="go">Arguments:</span>
<span class="go">  [NAME]  Who to greet  [default: World]</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
<p>But you can disable that if you want to, with <code class="docutils literal notranslate"><span class="pre">show_default=False</span></code>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial004.py!}
</pre></div>
</div>
<p>And then it won’t show the default value:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">// Notice the there&#39;s no [default: World] now 🔥</span>
<span class="go">Usage: main.py [OPTIONS] [NAME]</span>

<span class="go">  Say hi to NAME very gently, like Dirk.</span>

<span class="go">Arguments:</span>
<span class="go">  [NAME]  Who to greet</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>

<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
<p>!!! note “Technical Details”
In Click applications the default values are hidden by default. 🙈</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>In **Typer** these default values are shown by default. 👀
</pre></div>
</div>
</div>
<div class="section" id="custom-default-string">
<h1>Custom default string<a class="headerlink" href="#custom-default-string" title="Permalink to this headline">¶</a></h1>
<p>You can use the same <code class="docutils literal notranslate"><span class="pre">show_default</span></code> to pass a custom string (instead of a <code class="docutils literal notranslate"><span class="pre">bool</span></code>) to customize the default value to be shown in the help text:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial005.py!}
</pre></div>
</div>
<p>And it will be used in the help text:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">Usage: main.py [OPTIONS] [NAME]</span>

<span class="go">Arguments:</span>
<span class="go">  [NAME]  Who to greet  [default: (Deadpoolio the amazing&#39;s name)]</span>


<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>

<span class="go">// See it shows &quot;(Deadpoolio the amazing&#39;s name)&quot; instead of the actual default of &quot;Wade Wilson&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-help-name-metavar">
<h1>Custom help name (<code class="docutils literal notranslate"><span class="pre">metavar</span></code>)<a class="headerlink" href="#custom-help-name-metavar" title="Permalink to this headline">¶</a></h1>
<p>You can also customize the text used in the generated help text to represent a <em>CLI argument</em>.</p>
<p>By default, it will be the same name you declared, in uppercase letters.</p>
<p>So, if you declare it as:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</pre></div>
</div>
<p>It will be shown as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NAME</span>
</pre></div>
</div>
<p>But you can customize it with the <code class="docutils literal notranslate"><span class="pre">metavar</span></code> parameter for <code class="docutils literal notranslate"><span class="pre">typer.Argument()</span></code>.</p>
<p>For example, let’s say you don’t want to have the default of <code class="docutils literal notranslate"><span class="pre">NAME</span></code>, you want to have <code class="docutils literal notranslate"><span class="pre">username</span></code>, in lowercase, and you really want ✨ emojis ✨ everywhere:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial006.py!}
</pre></div>
</div>
<p>Now the generated help text will have <code class="docutils literal notranslate"><span class="pre">✨username✨</span></code> instead of <code class="docutils literal notranslate"><span class="pre">NAME</span></code>:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">Usage: main.py [OPTIONS] ✨username✨</span>

<span class="go">Arguments:</span>
<span class="go">  ✨username✨  [default: World]</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hide-a-cli-argument-from-the-help-text">
<h1>Hide a <em>CLI argument</em> from the help text<a class="headerlink" href="#hide-a-cli-argument-from-the-help-text" title="Permalink to this headline">¶</a></h1>
<p>If you want, you can make a <em>CLI argument</em> <strong>not</strong> show up in the <code class="docutils literal notranslate"><span class="pre">Arguments</span></code> section in the help text.</p>
<p>You will probably not want to do this normally, but it’s possible:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>{!../docs_src/arguments/help/tutorial007.py!}
</pre></div>
</div>
<p>Check it:</p>
<div class="termy">
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python main.py --help

<span class="go">// Notice there&#39;s no Arguments section at all 🔥</span>
<span class="go">Usage: main.py [OPTIONS] [NAME]</span>

<span class="go">  Say hi to NAME very gently, like Dirk.</span>

<span class="go">Options:</span>
<span class="go">  --install-completion  Install completion for the current shell.</span>
<span class="go">  --show-completion     Show completion for the current shell, to copy it or customize the installation.</span>
<span class="go">  --help                Show this message and exit.</span>
</pre></div>
</div>
</div>
<p>!!! info
Have in mind that the <em>CLI argument</em> will still show up in the first line with <code class="docutils literal notranslate"><span class="pre">Usage</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>But it won&#39;t show up in the main help text under the `Arguments` section.
</pre></div>
</div>
<div class="section" id="help-text-for-cli-arguments-in-click">
<h2>Help text for <em>CLI arguments</em> in Click<a class="headerlink" href="#help-text-for-cli-arguments-in-click" title="Permalink to this headline">¶</a></h2>
<p>Click itself doesn’t support adding help for <em>CLI arguments</em>, and it doesn’t generate help for them as in the “<code class="docutils literal notranslate"><span class="pre">Arguments:</span></code>” sections in the examples above.</p>
<p>Not supporting <code class="docutils literal notranslate"><span class="pre">help</span></code> in <em>CLI arguments</em> is an intentional <a href="https://click.palletsprojects.com/en/7.x/documentation/#documenting-arguments" class="external-link" target="_blank">design decision in Click</a>:</p>
<blockquote>
<div><p>This is to follow the general convention of Unix tools of using arguments for only the most necessary things, and to document them in the command help text by referring to them by name.</p>
</div></blockquote>
<p>So, in Click applications, you are expected to write all the documentation for <em>CLI arguments</em> by hand in the <abbr title="a multi-line string as the first expression inside a function (not assigned to any variable) used for documentation">docstring</abbr>.</p>
<hr class="docutils" />
<p>Nevertheless, <strong>Typer supports <code class="docutils literal notranslate"><span class="pre">help</span></code> for <em>CLI arguments</em></strong>. ✨ 🤷‍♂</p>
<p><strong>Typer</strong> doesn’t follow that convention and instead supports <code class="docutils literal notranslate"><span class="pre">help</span></code> to make it easier to have consistent help texts with a consistent format for your CLI programs. 🎨</p>
<p>This is also to help you create CLI programs that are ✨ awesome ✨ <em>by default</em>. With very little code.</p>
<p>If you want to keep Click’s convention in a <strong>Typer</strong> app, you can do it with the <code class="docutils literal notranslate"><span class="pre">hidden</span></code> parameter as described above.</p>
<p>!!! note “Technical Details”
To support <code class="docutils literal notranslate"><span class="pre">help</span></code> in <em>CLI arguments</em> <strong>Typer</strong> does a lot of internal work in its own sub-classes of Click’s internal classes.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./tutorial/arguments"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Thomas Wilson<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>